2015/05/28 08:41:47 - Foreclosures - Loading transformation from XML file [file:///c:/Users/jhollinger/Documents/GitHub/lexington-pentaho-etl/civic-data-automation/foreclosures.ktr]
2015/05/28 08:41:47 - foreclosures - Dispatching started for transformation [foreclosures]
2015/05/28 08:41:47 - upsert-records-to-ckan - Dispatching started for transformation [upsert-records-to-ckan]
2015/05/28 08:41:47 - PVA Addresses.0 - Header row skipped in file 'file:///c:/Users/jhollinger/Documents/GitHub/lexington-pentaho-etl/civic-data-automation\sub-transformations\ParcelCenters.csv'
2015/05/28 08:41:47 - PVA Sales.0 - Finished reading query, closing connection.
2015/05/28 08:41:47 - Name Sale Val.0 - Optimization level set to 9.
2015/05/28 08:41:47 - PVA Sales.0 - Finished processing (I=10, O=0, R=0, W=10, U=0, E=0)
2015/05/28 08:41:47 - Name Sale Val.0 - Finished processing (I=0, O=0, R=10, W=10, U=0, E=0)
2015/05/28 08:41:47 - PVA Addresses.0 - Line number : 50000
2015/05/28 08:41:48 - PVA Addresses.0 - Line number : 100000
2015/05/28 08:41:48 - PVA Addresses.0 - Finished processing (I=109836, O=0, R=0, W=109836, U=0, E=0)
2015/05/28 08:41:48 - Stream lookup.0 - Finished processing (I=0, O=0, R=109846, W=10, U=0, E=0)
2015/05/28 08:41:48 - Filter rows.0 - Finished processing (I=0, O=0, R=10, W=10, U=0, E=0)
2015/05/28 08:41:48 - Format as JSON.0 - Finished processing (I=0, O=1, R=10, W=1, U=0, E=0)
2015/05/28 08:41:48 - Add Resource ID.0 - Optimization level set to 9.
2015/05/28 08:41:48 - Create POST body.0 - Optimization level set to 9.
2015/05/28 08:41:48 - Add Resource ID.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2015/05/28 08:41:48 - jsonRecords input.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2015/05/28 08:41:48 - Get CKAN API variables.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2015/05/28 08:41:48 - Create POST body.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2015/05/28 08:41:49 - Write to log.0 - 
2015/05/28 08:41:49 - Write to log.0 - ------------> Linenr 1------------------------------
2015/05/28 08:41:49 - Write to log.0 - upsertBody = {"records":[{"PRICE":170000,"SALEVAL":"14","parcelId":"17076400","ADDRESS":"1364 DEVONPORT DR","SALEDT":"2015\/04\/29 00:00:00.000000000","SALEKEY":374508,"lng":"38.04898898","lat":"-84.55310646"},{"PRICE":146701,"SALEVAL":"14","parcelId":"38144800","ADDRESS":"561 LANARKSHIRE PL","SALEDT":"2015\/04\/29 00:00:00.000000000","SALEKEY":374281,"lng":"37.98243576","lat":"-84.40592613"},{"PRICE":295000,"SALEVAL":"12","parcelId":"20059500","ADDRESS":"2268 ABBEYWOOD RD","SALEDT":"2015\/04\/30 00:00:00.000000000","SALEKEY":374203,"lng":"37.95383811","lat":"-84.47271005"},{"PRICE":115000,"SALEVAL":"12","parcelId":"38007430","ADDRESS":"628 DANBY WOODS DR","SALEDT":"2015\/04\/30 00:00:00.000000000","SALEKEY":374274,"lng":"38.01929068","lat":"-84.44165797"},{"PRICE":55000,"SALEVAL":"12","parcelId":"12868850","ADDRESS":"3500 WARWICK DR","SALEDT":"2015\/05\/01 00:00:00.000000000","SALEKEY":374192,"lng":"37.98847361","lat":"-84.50977121"},{"PRICE":109000,"SALEVAL":"12","parcelId":"27168584","ADDRESS":"3308 LAKE WALES CT","SALEDT":"2015\/05\/01 00:00:00.000000000","SALEKEY":374585,"lng":"37.99740124","lat":"-84.44717059"},{"PRICE":120000,"SALEVAL":"14","parcelId":"13358450","ADDRESS":"3331 SUTHERLAND DR","SALEDT":"2015\/05\/05 00:00:00.000000000","SALEKEY":374594,"lng":"37.9916314","lat":"-84.47923669"},{"PRICE":24500,"SALEVAL":"12","parcelId":"10023160","ADDRESS":"1653 RALEIGH RD","SALEDT":"2015\/05\/06 00:00:00.000000000","SALEKEY":374354,"lng":"38.05498489","lat":"-84.44228899"},{"PRICE":145000,"SALEVAL":"14","parcelId":"20102990","ADDRESS":"840 QUARTER HORSE CT","SALEDT":"2015\/05\/06 00:00:00.000000000","SALEKEY":374592,"lng":"38.00800532","lat":"-84.55909271"},{"PRICE":137000,"SALEVAL":"14","parcelId":"11524100","ADDRESS":"149 E FOURTH ST","SALEDT":"2015\/05\/12 00:00:00.000000000","SALEKEY":374636,"lng":"38.05008491","lat":"-84.48907082"}],"resource_id":"0e2f75bd-7cfd-4e3b-8770-cb7119c623ed","force":"true"}
2015/05/28 08:41:49 - Write to log.0 - result = {"help": "Updates or inserts into a table in the DataStore\n\n    The datastore_upsert API action allows you to add or edit records to\n    an existing DataStore resource. In order for the *upsert* and *update*\n    methods to work, a unique key has to be defined via the datastore_create\n    action. The available methods are:\n\n    *upsert*\n        Update if record with same key already exists, otherwise insert.\n        Requires unique key.\n    *insert*\n        Insert only. This method is faster that upsert, but will fail if any\n        inserted record matches an existing one. Does *not* require a unique\n        key.\n    *update*\n        Update only. An exception will occur if the key that should be updated\n        does not exist. Requires unique key.\n\n\n    :param resource_id: resource id that the data is going to be stored under.\n    :type resource_id: string\n    :param force: set to True to edit a read-only resource\n    :type force: bool (optional, default: False)\n    :param records: the data, eg: [{\"dob\": \"2005\", \"some_stuff\": [\"a\",\"b\"]}] (optional)\n    :type records: list of dictionaries\n    :param method: the method to use to put the data into the datastore.\n                   Possible options are: upsert, insert, update (optional, default: upsert)\n    :type method: string\n\n    **Results:**\n\n    :returns: The modified data object.\n    :rtype: dictionary\n\n    ", "success": true, "result": {"records": [{"SALEKEY": 374508, "PRICE": 170000, "parcelId": "17076400", "SALEDT": "2015/04/29 00:00:00.000000000", "ADDRESS": "1364 DEVONPORT DR", "lat": "-84.55310646", "SALEVAL": "14", "lng": "38.04898898"}, {"SALEKEY": 374281, "PRICE": 146701, "parcelId": "38144800", "SALEDT": "2015/04/29 00:00:00.000000000", "ADDRESS": "561 LANARKSHIRE PL", "lat": "-84.40592613", "SALEVAL": "14", "lng": "37.98243576"}, {"SALEKEY": 374203, "PRICE": 295000, "parcelId": "20059500", "SALEDT": "2015/04/30 00:00:00.000000000", "ADDRESS": "2268 ABBEYWOOD RD", "lat": "-84.47271005", "SALEVAL": "12", "lng": "37.95383811"}, {"SALEKEY": 374274, "PRICE": 115000, "parcelId": "38007430", "SALEDT": "2015/04/30 00:00:00.000000000", "ADDRESS": "628 DANBY WOODS DR", "lat": "-84.44165797", "SALEVAL": "12", "lng": "38.01929068"}, {"SALEKEY": 374192, "PRICE": 55000, "parcelId": "12868850", "SALEDT": "2015/05/01 00:00:00.000000000", "ADDRESS": "3500 WARWICK DR", "lat": "-84.50977121", "SALEVAL": "12", "lng": "37.98847361"}, {"SALEKEY": 374585, "PRICE": 109000, "parcelId": "27168584", "SALEDT": "2015/05/01 00:00:00.000000000", "ADDRESS": "3308 LAKE WALES CT", "lat": "-84.44717059", "SALEVAL": "12", "lng": "37.99740124"}, {"SALEKEY": 374594, "PRICE": 120000, "parcelId": "13358450", "SALEDT": "2015/05/05 00:00:00.000000000", "ADDRESS": "3331 SUTHERLAND DR", "lat": "-84.47923669", "SALEVAL": "14", "lng": "37.9916314"}, {"SALEKEY": 374354, "PRICE": 24500, "parcelId": "10023160", "SALEDT": "2015/05/06 00:00:00.000000000", "ADDRESS": "1653 RALEIGH RD", "lat": "-84.44228899", "SALEVAL": "12", "lng": "38.05498489"}, {"SALEKEY": 374592, "PRICE": 145000, "parcelId": "20102990", "SALEDT": "2015/05/06 00:00:00.000000000", "ADDRESS": "840 QUARTER HORSE CT", "lat": "-84.55909271", "SALEVAL": "14", "lng": "38.00800532"}, {"SALEKEY": 374636, "PRICE": 137000, "parcelId": "11524100", "SALEDT": "2015/05/12 00:00:00.000000000", "ADDRESS": "149 E FOURTH ST", "lat": "-84.48907082", "SALEVAL": "14", "lng": "38.05008491"}], "force": true, "resource_id": "0e2f75bd-7cfd-4e3b-8770-cb7119c623ed"}}
2015/05/28 08:41:49 - Write to log.0 - 
2015/05/28 08:41:49 - Write to log.0 - ====================
2015/05/28 08:41:49 - Upsert records to CKAN.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2015/05/28 08:41:49 - Mapping output specification.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2015/05/28 08:41:49 - CKAN Upsert.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2015/05/28 08:41:49 - Write to log.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
