2015/06/08 11:41:45 - Foreclosures - Loading transformation from XML file [file:///c:/Users/jhollinger/Documents/GitHub/lexington-pentaho-etl/civic-data-automation/foreclosures.ktr]
2015/06/08 11:41:45 - foreclosures - Dispatching started for transformation [foreclosures]
2015/06/08 11:41:45 - upsert-records-to-ckan - Dispatching started for transformation [upsert-records-to-ckan]
2015/06/08 11:41:45 - PVA Addresses.0 - Header row skipped in file 'file:///c:/Users/jhollinger/Documents/GitHub/lexington-pentaho-etl/civic-data-automation\sub-transformations\ParcelCenters.csv'
2015/06/08 11:41:45 - Name Sale Val.0 - Optimization level set to 9.
2015/06/08 11:41:45 - PVA Sales.0 - Finished reading query, closing connection.
2015/06/08 11:41:45 - PVA Sales.0 - Finished processing (I=10, O=0, R=0, W=10, U=0, E=0)
2015/06/08 11:41:45 - Name Sale Val.0 - Finished processing (I=0, O=0, R=10, W=10, U=0, E=0)
2015/06/08 11:41:46 - PVA Addresses.0 - Line number : 50000
2015/06/08 11:41:46 - PVA Addresses.0 - Line number : 100000
2015/06/08 11:41:46 - PVA Addresses.0 - Finished processing (I=109836, O=0, R=0, W=109836, U=0, E=0)
2015/06/08 11:41:46 - Stream lookup.0 - Finished processing (I=0, O=0, R=109846, W=10, U=0, E=0)
2015/06/08 11:41:46 - Filter rows.0 - Finished processing (I=0, O=0, R=10, W=10, U=0, E=0)
2015/06/08 11:41:46 - Format as JSON.0 - Finished processing (I=0, O=1, R=10, W=1, U=0, E=0)
2015/06/08 11:41:46 - Add Resource ID.0 - Optimization level set to 9.
2015/06/08 11:41:46 - Create POST body.0 - Optimization level set to 9.
2015/06/08 11:41:46 - Add Resource ID.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2015/06/08 11:41:46 - jsonRecords input.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2015/06/08 11:41:46 - Get CKAN API variables.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2015/06/08 11:41:46 - Create POST body.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2015/06/08 11:41:47 - Write to log.0 - 
2015/06/08 11:41:47 - Write to log.0 - ------------> Linenr 1------------------------------
2015/06/08 11:41:47 - Write to log.0 - upsertBody = {"records":[{"PRICE":137000,"SALEVAL":"14","parcelId":"11524100","ADDRESS":"149 E FOURTH ST","SALEDT":"2015\/05\/12 00:00:00.000000000","SALEKEY":374636,"lng":"38.05008491","lat":"-84.48907082"},{"PRICE":67000,"SALEVAL":"14","parcelId":"13649300","ADDRESS":"965 LUCY LN","SALEDT":"2015\/05\/12 00:00:00.000000000","SALEKEY":374790,"lng":"38.07236284","lat":"-84.51147691"},{"PRICE":35900,"SALEVAL":"14","parcelId":"12929200","ADDRESS":"1741 COSTIGAN DR","SALEDT":"2015\/05\/20 00:00:00.000000000","SALEKEY":375102,"lng":"38.0903699","lat":"-84.48083411"},{"PRICE":86100,"SALEVAL":"12","parcelId":"20276516","ADDRESS":"3292 MT FORAKER DR","SALEDT":"2015\/05\/20 00:00:00.000000000","SALEKEY":374938,"lng":"37.97978052","lat":"-84.45865531"},{"PRICE":80010,"SALEVAL":"12","parcelId":"38104690","ADDRESS":"2704 SILVER MARE CT","SALEDT":"2015\/05\/20 00:00:00.000000000","SALEKEY":374979,"lng":"38.07959565","lat":"-84.5536161"},{"PRICE":133000,"SALEVAL":"14","parcelId":"43212900","ADDRESS":"232 PRESTON AVE","SALEDT":"2015\/05\/20 00:00:00.000000000","SALEKEY":375030,"lng":"38.03312349","lat":"-84.47438244"},{"PRICE":180000,"SALEVAL":"12","parcelId":"38195370","ADDRESS":"1357 SILVER SPRINGS DR","SALEDT":"2015\/05\/21 00:00:00.000000000","SALEKEY":374940,"lng":"38.08207402","lat":"-84.48428793"},{"PRICE":75000,"SALEVAL":"12","parcelId":"10837241","ADDRESS":"3505 GUNBOW CT","SALEDT":"2015\/05\/26 00:00:00.000000000","SALEKEY":374928,"lng":"37.9814144","lat":"-84.47498128"},{"PRICE":68000,"SALEVAL":"14","parcelId":"11022200","ADDRESS":"547 EMERSON DR","SALEDT":"2015\/05\/27 00:00:00.000000000","SALEKEY":375123,"lng":"38.056","lat":"-84.4623025"},{"PRICE":155495,"SALEVAL":"12","parcelId":"10076100","ADDRESS":"2225 EASTWAY DR","SALEDT":"2015\/05\/29 00:00:00.000000000","SALEKEY":375190,"lng":"38.01375939","lat":"-84.52538968"}],"resource_id":"0e2f75bd-7cfd-4e3b-8770-cb7119c623ed","force":"true"}
2015/06/08 11:41:47 - Write to log.0 - result = {"help": "Updates or inserts into a table in the DataStore\n\n    The datastore_upsert API action allows you to add or edit records to\n    an existing DataStore resource. In order for the *upsert* and *update*\n    methods to work, a unique key has to be defined via the datastore_create\n    action. The available methods are:\n\n    *upsert*\n        Update if record with same key already exists, otherwise insert.\n        Requires unique key.\n    *insert*\n        Insert only. This method is faster that upsert, but will fail if any\n        inserted record matches an existing one. Does *not* require a unique\n        key.\n    *update*\n        Update only. An exception will occur if the key that should be updated\n        does not exist. Requires unique key.\n\n\n    :param resource_id: resource id that the data is going to be stored under.\n    :type resource_id: string\n    :param force: set to True to edit a read-only resource\n    :type force: bool (optional, default: False)\n    :param records: the data, eg: [{\"dob\": \"2005\", \"some_stuff\": [\"a\",\"b\"]}] (optional)\n    :type records: list of dictionaries\n    :param method: the method to use to put the data into the datastore.\n                   Possible options are: upsert, insert, update (optional, default: upsert)\n    :type method: string\n\n    **Results:**\n\n    :returns: The modified data object.\n    :rtype: dictionary\n\n    ", "success": true, "result": {"records": [{"SALEKEY": 374636, "PRICE": 137000, "parcelId": "11524100", "SALEDT": "2015/05/12 00:00:00.000000000", "ADDRESS": "149 E FOURTH ST", "lat": "-84.48907082", "SALEVAL": "14", "lng": "38.05008491"}, {"SALEKEY": 374790, "PRICE": 67000, "parcelId": "13649300", "SALEDT": "2015/05/12 00:00:00.000000000", "ADDRESS": "965 LUCY LN", "lat": "-84.51147691", "SALEVAL": "14", "lng": "38.07236284"}, {"SALEKEY": 375102, "PRICE": 35900, "parcelId": "12929200", "SALEDT": "2015/05/20 00:00:00.000000000", "ADDRESS": "1741 COSTIGAN DR", "lat": "-84.48083411", "SALEVAL": "14", "lng": "38.0903699"}, {"SALEKEY": 374938, "PRICE": 86100, "parcelId": "20276516", "SALEDT": "2015/05/20 00:00:00.000000000", "ADDRESS": "3292 MT FORAKER DR", "lat": "-84.45865531", "SALEVAL": "12", "lng": "37.97978052"}, {"SALEKEY": 374979, "PRICE": 80010, "parcelId": "38104690", "SALEDT": "2015/05/20 00:00:00.000000000", "ADDRESS": "2704 SILVER MARE CT", "lat": "-84.5536161", "SALEVAL": "12", "lng": "38.07959565"}, {"SALEKEY": 375030, "PRICE": 133000, "parcelId": "43212900", "SALEDT": "2015/05/20 00:00:00.000000000", "ADDRESS": "232 PRESTON AVE", "lat": "-84.47438244", "SALEVAL": "14", "lng": "38.03312349"}, {"SALEKEY": 374940, "PRICE": 180000, "parcelId": "38195370", "SALEDT": "2015/05/21 00:00:00.000000000", "ADDRESS": "1357 SILVER SPRINGS DR", "lat": "-84.48428793", "SALEVAL": "12", "lng": "38.08207402"}, {"SALEKEY": 374928, "PRICE": 75000, "parcelId": "10837241", "SALEDT": "2015/05/26 00:00:00.000000000", "ADDRESS": "3505 GUNBOW CT", "lat": "-84.47498128", "SALEVAL": "12", "lng": "37.9814144"}, {"SALEKEY": 375123, "PRICE": 68000, "parcelId": "11022200", "SALEDT": "2015/05/27 00:00:00.000000000", "ADDRESS": "547 EMERSON DR", "lat": "-84.4623025", "SALEVAL": "14", "lng": "38.056"}, {"SALEKEY": 375190, "PRICE": 155495, "parcelId": "10076100", "SALEDT": "2015/05/29 00:00:00.000000000", "ADDRESS": "2225 EASTWAY DR", "lat": "-84.52538968", "SALEVAL": "12", "lng": "38.01375939"}], "force": true, "resource_id": "0e2f75bd-7cfd-4e3b-8770-cb7119c623ed"}}
2015/06/08 11:41:47 - Write to log.0 - 
2015/06/08 11:41:47 - Write to log.0 - ====================
2015/06/08 11:41:47 - Upsert records to CKAN.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2015/06/08 11:41:47 - Mapping output specification.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2015/06/08 11:41:47 - CKAN Upsert.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2015/06/08 11:41:47 - Write to log.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
