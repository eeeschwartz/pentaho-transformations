2015/12/09 13:45:17 - Foreclosures - Loading transformation from XML file [file:///c:/Users/jhollinger/Documents/GitHub/lexington-pentaho-etl/civic-data-automation/foreclosures.ktr]
2015/12/09 13:45:18 - foreclosures - Dispatching started for transformation [foreclosures]
2015/12/09 13:45:18 - upsert-records-to-ckan - Dispatching started for transformation [upsert-records-to-ckan]
2015/12/09 13:45:18 - PVA Addresses.0 - Header row skipped in file 'file:///c:/Users/jhollinger/Documents/GitHub/lexington-pentaho-etl/civic-data-automation\sub-transformations\ParcelCenters.csv'
2015/12/09 13:45:18 - PVA Sales.0 - Finished reading query, closing connection.
2015/12/09 13:45:18 - Name Sale Val.0 - Optimization level set to 9.
2015/12/09 13:45:18 - PVA Sales.0 - Finished processing (I=21, O=0, R=0, W=21, U=0, E=0)
2015/12/09 13:45:18 - Name Sale Val.0 - Finished processing (I=0, O=0, R=21, W=21, U=0, E=0)
2015/12/09 13:45:18 - PVA Addresses.0 - Line number : 50000
2015/12/09 13:45:18 - PVA Addresses.0 - Line number : 100000
2015/12/09 13:45:18 - PVA Addresses.0 - Finished processing (I=109836, O=0, R=0, W=109836, U=0, E=0)
2015/12/09 13:45:18 - Stream lookup.0 - Finished processing (I=0, O=0, R=109857, W=21, U=0, E=0)
2015/12/09 13:45:18 - Filter rows.0 - Finished processing (I=0, O=0, R=21, W=21, U=0, E=0)
2015/12/09 13:45:18 - Format as JSON.0 - Finished processing (I=0, O=1, R=21, W=1, U=0, E=0)
2015/12/09 13:45:18 - Add Resource ID.0 - Optimization level set to 9.
2015/12/09 13:45:18 - Create POST body.0 - Optimization level set to 9.
2015/12/09 13:45:18 - Add Resource ID.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2015/12/09 13:45:18 - jsonRecords input.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2015/12/09 13:45:18 - Get CKAN API variables.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2015/12/09 13:45:18 - Create POST body.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2015/12/09 13:45:19 - Write to log.0 - 
2015/12/09 13:45:19 - Write to log.0 - ------------> Linenr 1------------------------------
2015/12/09 13:45:19 - Write to log.0 - upsertBody = {"records":[{"PRICE":43400,"SALEVAL":"14","parcelId":"10023870","ADDRESS":"1160 WINBURN DR","SALEDT":"2015\/11\/10 00:00:00.000000000","SALEKEY":381272,"lng":"38.08859458","lat":"-84.47404844"},{"PRICE":43400,"SALEVAL":"14","parcelId":"10839950","ADDRESS":"909 WARD DR","SALEDT":"2015\/11\/10 00:00:00.000000000","SALEKEY":381269,"lng":"38.09351262","lat":"-84.4759818"},{"PRICE":46700,"SALEVAL":"14","parcelId":"11155200","ADDRESS":"2441 MIRAHILL DR","SALEDT":"2015\/11\/10 00:00:00.000000000","SALEKEY":381273,"lng":"38.01958515","lat":"-84.44985007"},{"PRICE":40000,"SALEVAL":"14","parcelId":"11313900","ADDRESS":"1760 COSTIGAN DR","SALEDT":"2015\/11\/10 00:00:00.000000000","SALEKEY":381264,"lng":"38.08996065","lat":"-84.48190398"},{"PRICE":38000,"SALEVAL":"14","parcelId":"15512600","ADDRESS":"839 CHARLES AVE","SALEDT":"2015\/11\/10 00:00:00.000000000","SALEKEY":381047,"lng":"38.06212447","lat":"-84.50381788"},{"PRICE":43400,"SALEVAL":"14","parcelId":"15513300","ADDRESS":"413 ELM ST","SALEDT":"2015\/11\/10 00:00:00.000000000","SALEKEY":381266,"lng":"38.06211488","lat":"-84.50358804"},{"PRICE":47000,"SALEVAL":"14","parcelId":"16651100","ADDRESS":"681 E LOUDON AVE","SALEDT":"2015\/11\/10 00:00:00.000000000","SALEKEY":381267,"lng":"38.04867231","lat":"-84.47030727"},{"PRICE":252000,"SALEVAL":"14","parcelId":"19332570","ADDRESS":"821 WELLINGTON WAY","SALEDT":"2015\/11\/10 00:00:00.000000000","SALEKEY":381301,"lng":"38.00417571","lat":"-84.56173166"},{"PRICE":105100,"SALEVAL":"14","parcelId":"24816655","ADDRESS":"3924 GRASSY CREEK DR","SALEDT":"2015\/11\/10 00:00:00.000000000","SALEKEY":381063,"lng":"37.97912473","lat":"-84.55371387"},{"PRICE":23400,"SALEVAL":"14","parcelId":"44467900","ADDRESS":"1409 EDGELAWN AVE","SALEDT":"2015\/11\/10 00:00:00.000000000","SALEKEY":381265,"lng":"38.05976115","lat":"-84.47016935"},{"PRICE":45000,"SALEVAL":"14","parcelId":"45110100","ADDRESS":"1124 SPARKS RD","SALEDT":"2015\/11\/10 00:00:00.000000000","SALEKEY":381268,"lng":"38.03734073","lat":"-84.46654416"},{"PRICE":53550,"SALEVAL":"12","parcelId":"13411400","ADDRESS":"326 MANHATTAN DR","SALEDT":"2015\/11\/12 00:00:00.000000000","SALEKEY":381255,"lng":"38.06439734","lat":"-84.46145636"},{"PRICE":130000,"SALEVAL":"14","parcelId":"38038140","ADDRESS":"3217 ROYAL TROON RD","SALEDT":"2015\/11\/12 00:00:00.000000000","SALEKEY":381163,"lng":"38.01470777","lat":"-84.402736"},{"PRICE":208000,"SALEVAL":"12","parcelId":"38035760","ADDRESS":"2204 BLACKMOOR PARK LN","SALEDT":"2015\/11\/13 00:00:00.000000000","SALEKEY":381079,"lng":"38.0195955","lat":"-84.40220241"},{"PRICE":240000,"SALEVAL":"12","parcelId":"38132900","ADDRESS":"200 RICHARDSON PL","SALEDT":"2015\/11\/13 00:00:00.000000000","SALEKEY":381184,"lng":"37.97833785","lat":"-84.41353188"},{"PRICE":183000,"SALEVAL":"14","parcelId":"24793900","ADDRESS":"797 ZANDALE DR","SALEDT":"2015\/11\/16 00:00:00.000000000","SALEKEY":381193,"lng":"37.99950771","lat":"-84.50069469"},{"PRICE":36200,"SALEVAL":"12","parcelId":"15307150","ADDRESS":"387 LYNNWOOD CT","SALEDT":"2015\/11\/19 00:00:00.000000000","SALEKEY":381050,"lng":"38.015084","lat":"-84.44528594"},{"PRICE":16000,"SALEVAL":"14","parcelId":"16916200","ADDRESS":"417 E SECOND ST","SALEDT":"2015\/11\/20 00:00:00.000000000","SALEKEY":381203,"lng":"38.04363093","lat":"-84.48770686"},{"PRICE":80500,"SALEVAL":"12","parcelId":"41487350","ADDRESS":"601 HENRY CLAY BLVD","SALEDT":"2015\/11\/20 00:00:00.000000000","SALEKEY":381092,"lng":"38.03662407","lat":"-84.46580933"},{"PRICE":75101,"SALEVAL":"12","parcelId":"20002090","ADDRESS":"408 CEDARVALE CT","SALEDT":"2015\/11\/23 00:00:00.000000000","SALEKEY":381070,"lng":"38.00236724","lat":"-84.45735688"},{"PRICE":179900,"SALEVAL":"12","parcelId":"17069300","ADDRESS":"3282 PIMLICO PKWY","SALEDT":"2015\/11\/25 00:00:00.000000000","SALEKEY":381312,"lng":"37.99011341","lat":"-84.47028413"}],"resource_id":"0e2f75bd-7cfd-4e3b-8770-cb7119c623ed","force":"true"}
2015/12/09 13:45:19 - Write to log.0 - result = {"help": "Updates or inserts into a table in the DataStore\n\n    The datastore_upsert API action allows you to add or edit records to\n    an existing DataStore resource. In order for the *upsert* and *update*\n    methods to work, a unique key has to be defined via the datastore_create\n    action. The available methods are:\n\n    *upsert*\n        Update if record with same key already exists, otherwise insert.\n        Requires unique key.\n    *insert*\n        Insert only. This method is faster that upsert, but will fail if any\n        inserted record matches an existing one. Does *not* require a unique\n        key.\n    *update*\n        Update only. An exception will occur if the key that should be updated\n        does not exist. Requires unique key.\n\n\n    :param resource_id: resource id that the data is going to be stored under.\n    :type resource_id: string\n    :param force: set to True to edit a read-only resource\n    :type force: bool (optional, default: False)\n    :param records: the data, eg: [{\"dob\": \"2005\", \"some_stuff\": [\"a\",\"b\"]}] (optional)\n    :type records: list of dictionaries\n    :param method: the method to use to put the data into the datastore.\n                   Possible options are: upsert, insert, update (optional, default: upsert)\n    :type method: string\n\n    **Results:**\n\n    :returns: The modified data object.\n    :rtype: dictionary\n\n    ", "success": true, "result": {"records": [{"SALEKEY": 381272, "PRICE": 43400, "parcelId": "10023870", "SALEDT": "2015/11/10 00:00:00.000000000", "ADDRESS": "1160 WINBURN DR", "lat": "-84.47404844", "SALEVAL": "14", "lng": "38.08859458"}, {"SALEKEY": 381269, "PRICE": 43400, "parcelId": "10839950", "SALEDT": "2015/11/10 00:00:00.000000000", "ADDRESS": "909 WARD DR", "lat": "-84.4759818", "SALEVAL": "14", "lng": "38.09351262"}, {"SALEKEY": 381273, "PRICE": 46700, "parcelId": "11155200", "SALEDT": "2015/11/10 00:00:00.000000000", "ADDRESS": "2441 MIRAHILL DR", "lat": "-84.44985007", "SALEVAL": "14", "lng": "38.01958515"}, {"SALEKEY": 381264, "PRICE": 40000, "parcelId": "11313900", "SALEDT": "2015/11/10 00:00:00.000000000", "ADDRESS": "1760 COSTIGAN DR", "lat": "-84.48190398", "SALEVAL": "14", "lng": "38.08996065"}, {"SALEKEY": 381047, "PRICE": 38000, "parcelId": "15512600", "SALEDT": "2015/11/10 00:00:00.000000000", "ADDRESS": "839 CHARLES AVE", "lat": "-84.50381788", "SALEVAL": "14", "lng": "38.06212447"}, {"SALEKEY": 381266, "PRICE": 43400, "parcelId": "15513300", "SALEDT": "2015/11/10 00:00:00.000000000", "ADDRESS": "413 ELM ST", "lat": "-84.50358804", "SALEVAL": "14", "lng": "38.06211488"}, {"SALEKEY": 381267, "PRICE": 47000, "parcelId": "16651100", "SALEDT": "2015/11/10 00:00:00.000000000", "ADDRESS": "681 E LOUDON AVE", "lat": "-84.47030727", "SALEVAL": "14", "lng": "38.04867231"}, {"SALEKEY": 381301, "PRICE": 252000, "parcelId": "19332570", "SALEDT": "2015/11/10 00:00:00.000000000", "ADDRESS": "821 WELLINGTON WAY", "lat": "-84.56173166", "SALEVAL": "14", "lng": "38.00417571"}, {"SALEKEY": 381063, "PRICE": 105100, "parcelId": "24816655", "SALEDT": "2015/11/10 00:00:00.000000000", "ADDRESS": "3924 GRASSY CREEK DR", "lat": "-84.55371387", "SALEVAL": "14", "lng": "37.97912473"}, {"SALEKEY": 381265, "PRICE": 23400, "parcelId": "44467900", "SALEDT": "2015/11/10 00:00:00.000000000", "ADDRESS": "1409 EDGELAWN AVE", "lat": "-84.47016935", "SALEVAL": "14", "lng": "38.05976115"}, {"SALEKEY": 381268, "PRICE": 45000, "parcelId": "45110100", "SALEDT": "2015/11/10 00:00:00.000000000", "ADDRESS": "1124 SPARKS RD", "lat": "-84.46654416", "SALEVAL": "14", "lng": "38.03734073"}, {"SALEKEY": 381255, "PRICE": 53550, "parcelId": "13411400", "SALEDT": "2015/11/12 00:00:00.000000000", "ADDRESS": "326 MANHATTAN DR", "lat": "-84.46145636", "SALEVAL": "12", "lng": "38.06439734"}, {"SALEKEY": 381163, "PRICE": 130000, "parcelId": "38038140", "SALEDT": "2015/11/12 00:00:00.000000000", "ADDRESS": "3217 ROYAL TROON RD", "lat": "-84.402736", "SALEVAL": "14", "lng": "38.01470777"}, {"SALEKEY": 381079, "PRICE": 208000, "parcelId": "38035760", "SALEDT": "2015/11/13 00:00:00.000000000", "ADDRESS": "2204 BLACKMOOR PARK LN", "lat": "-84.40220241", "SALEVAL": "12", "lng": "38.0195955"}, {"SALEKEY": 381184, "PRICE": 240000, "parcelId": "38132900", "SALEDT": "2015/11/13 00:00:00.000000000", "ADDRESS": "200 RICHARDSON PL", "lat": "-84.41353188", "SALEVAL": "12", "lng": "37.97833785"}, {"SALEKEY": 381193, "PRICE": 183000, "parcelId": "24793900", "SALEDT": "2015/11/16 00:00:00.000000000", "ADDRESS": "797 ZANDALE DR", "lat": "-84.50069469", "SALEVAL": "14", "lng": "37.99950771"}, {"SALEKEY": 381050, "PRICE": 36200, "parcelId": "15307150", "SALEDT": "2015/11/19 00:00:00.000000000", "ADDRESS": "387 LYNNWOOD CT", "lat": "-84.44528594", "SALEVAL": "12", "lng": "38.015084"}, {"SALEKEY": 381203, "PRICE": 16000, "parcelId": "16916200", "SALEDT": "2015/11/20 00:00:00.000000000", "ADDRESS": "417 E SECOND ST", "lat": "-84.48770686", "SALEVAL": "14", "lng": "38.04363093"}, {"SALEKEY": 381092, "PRICE": 80500, "parcelId": "41487350", "SALEDT": "2015/11/20 00:00:00.000000000", "ADDRESS": "601 HENRY CLAY BLVD", "lat": "-84.46580933", "SALEVAL": "12", "lng": "38.03662407"}, {"SALEKEY": 381070, "PRICE": 75101, "parcelId": "20002090", "SALEDT": "2015/11/23 00:00:00.000000000", "ADDRESS": "408 CEDARVALE CT", "lat": "-84.45735688", "SALEVAL": "12", "lng": "38.00236724"}, {"SALEKEY": 381312, "PRICE": 179900, "parcelId": "17069300", "SALEDT": "2015/11/25 00:00:00.000000000", "ADDRESS": "3282 PIMLICO PKWY", "lat": "-84.47028413", "SALEVAL": "12", "lng": "37.99011341"}], "force": true, "resource_id": "0e2f75bd-7cfd-4e3b-8770-cb7119c623ed"}}
2015/12/09 13:45:19 - Write to log.0 - 
2015/12/09 13:45:19 - Write to log.0 - ====================
2015/12/09 13:45:19 - Upsert records to CKAN.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2015/12/09 13:45:19 - Mapping output specification.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2015/12/09 13:45:19 - Write to log.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2015/12/09 13:45:19 - CKAN Upsert.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
