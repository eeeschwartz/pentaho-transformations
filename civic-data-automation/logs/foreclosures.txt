2015/07/16 16:45:20 - Foreclosures - Loading transformation from XML file [file:///c:/Users/jhollinger/Documents/GitHub/lexington-pentaho-etl/civic-data-automation/foreclosures.ktr]
2015/07/16 16:45:20 - foreclosures - Dispatching started for transformation [foreclosures]
2015/07/16 16:45:20 - upsert-records-to-ckan - Dispatching started for transformation [upsert-records-to-ckan]
2015/07/16 16:45:20 - PVA Addresses.0 - Header row skipped in file 'file:///c:/Users/jhollinger/Documents/GitHub/lexington-pentaho-etl/civic-data-automation\sub-transformations\ParcelCenters.csv'
2015/07/16 16:45:20 - PVA Sales.0 - Finished reading query, closing connection.
2015/07/16 16:45:20 - Name Sale Val.0 - Optimization level set to 9.
2015/07/16 16:45:20 - PVA Sales.0 - Finished processing (I=14, O=0, R=0, W=14, U=0, E=0)
2015/07/16 16:45:21 - Name Sale Val.0 - Finished processing (I=0, O=0, R=14, W=14, U=0, E=0)
2015/07/16 16:45:21 - PVA Addresses.0 - Line number : 50000
2015/07/16 16:45:21 - PVA Addresses.0 - Line number : 100000
2015/07/16 16:45:21 - PVA Addresses.0 - Finished processing (I=109836, O=0, R=0, W=109836, U=0, E=0)
2015/07/16 16:45:21 - Stream lookup.0 - Finished processing (I=0, O=0, R=109850, W=14, U=0, E=0)
2015/07/16 16:45:21 - Filter rows.0 - Finished processing (I=0, O=0, R=14, W=14, U=0, E=0)
2015/07/16 16:45:21 - Add Resource ID.0 - Optimization level set to 9.
2015/07/16 16:45:21 - Format as JSON.0 - Finished processing (I=0, O=1, R=14, W=1, U=0, E=0)
2015/07/16 16:45:21 - Create POST body.0 - Optimization level set to 9.
2015/07/16 16:45:21 - Add Resource ID.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2015/07/16 16:45:21 - jsonRecords input.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2015/07/16 16:45:21 - Get CKAN API variables.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2015/07/16 16:45:21 - Create POST body.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2015/07/16 16:45:22 - Write to log.0 - 
2015/07/16 16:45:22 - Write to log.0 - ------------> Linenr 1------------------------------
2015/07/16 16:45:22 - Write to log.0 - upsertBody = {"records":[{"PRICE":180000,"SALEVAL":"12","parcelId":"38144800","ADDRESS":"561 LANARKSHIRE PL","SALEDT":"2015\/06\/17 00:00:00.000000000","SALEKEY":375844,"lng":"37.98243576","lat":"-84.40592613"},{"PRICE":49000,"SALEVAL":"12","parcelId":"10021700","ADDRESS":"1222 BRYAN AVE","SALEDT":"2015\/06\/18 00:00:00.000000000","SALEKEY":376202,"lng":"38.0577635","lat":"-84.47127306"},{"PRICE":450000,"SALEVAL":"14","parcelId":"30674300","ADDRESS":"116 HOLIDAY RD","SALEDT":"2015\/06\/18 00:00:00.000000000","SALEKEY":376428,"lng":"38.02654199","lat":"-84.47339648"},{"PRICE":444051,"SALEVAL":"14","parcelId":"38190730","ADDRESS":"2704 OLD ROSEBUD RD","SALEDT":"2015\/06\/18 00:00:00.000000000","SALEKEY":375858,"lng":"38.02776097","lat":"-84.42045028"},{"PRICE":444051,"SALEVAL":"14","parcelId":"38190740","ADDRESS":"2704 OLD ROSEBUD RD","SALEDT":"2015\/06\/18 00:00:00.000000000","SALEKEY":375859,"lng":"38.02774988","lat":"-84.42041852"},{"PRICE":444051,"SALEVAL":"14","parcelId":"38190750","ADDRESS":"2704 OLD ROSEBUD RD","SALEDT":"2015\/06\/18 00:00:00.000000000","SALEKEY":375860,"lng":"38.0277388","lat":"-84.42038675"},{"PRICE":89000,"SALEVAL":"12","parcelId":"12687050","ADDRESS":"1433 THAMES DR","SALEDT":"2015\/06\/19 00:00:00.000000000","SALEKEY":376106,"lng":"37.9736493","lat":"-84.47596316"},{"PRICE":55000,"SALEVAL":"14","parcelId":"10010830","ADDRESS":"3396 GATEWOOD CT","SALEDT":"2015\/06\/25 00:00:00.000000000","SALEKEY":376318,"lng":"37.98321299","lat":"-84.50595762"},{"PRICE":430000,"SALEVAL":"12","parcelId":"20287500","ADDRESS":"3038 WALNUT HILL RD","SALEDT":"2015\/06\/26 00:00:00.000000000","SALEKEY":376185,"lng":"37.92669377","lat":"-84.44600473"},{"PRICE":103500,"SALEVAL":"12","parcelId":"38072440","ADDRESS":"277 PREAKNESS DR","SALEDT":"2015\/06\/26 00:00:00.000000000","SALEKEY":376462,"lng":"38.07278126","lat":"-84.44634838"},{"PRICE":88000,"SALEVAL":"12","parcelId":"11124100","ADDRESS":"142 AVON AVE","SALEDT":"2015\/06\/29 00:00:00.000000000","SALEKEY":376385,"lng":"38.05785115","lat":"-84.4777379"},{"PRICE":122900,"SALEVAL":"12","parcelId":"20277026","ADDRESS":"1205 FENWICK RD","SALEDT":"2015\/06\/30 00:00:00.000000000","SALEKEY":376391,"lng":"37.98053811","lat":"-84.45557736"},{"PRICE":55000,"SALEVAL":"12","parcelId":"13604100","ADDRESS":"1106 BOXWOOD DR","SALEDT":"2015\/07\/01 00:00:00.000000000","SALEKEY":376327,"lng":"38.08485977","lat":"-84.50474446"},{"PRICE":89601,"SALEVAL":"12","parcelId":"23430100","ADDRESS":"650 MONTICELLO BLVD","SALEDT":"2015\/07\/01 00:00:00.000000000","SALEKEY":376332,"lng":"37.99304556","lat":"-84.54940581"}],"resource_id":"0e2f75bd-7cfd-4e3b-8770-cb7119c623ed","force":"true"}
2015/07/16 16:45:22 - Write to log.0 - result = {"help": "Updates or inserts into a table in the DataStore\n\n    The datastore_upsert API action allows you to add or edit records to\n    an existing DataStore resource. In order for the *upsert* and *update*\n    methods to work, a unique key has to be defined via the datastore_create\n    action. The available methods are:\n\n    *upsert*\n        Update if record with same key already exists, otherwise insert.\n        Requires unique key.\n    *insert*\n        Insert only. This method is faster that upsert, but will fail if any\n        inserted record matches an existing one. Does *not* require a unique\n        key.\n    *update*\n        Update only. An exception will occur if the key that should be updated\n        does not exist. Requires unique key.\n\n\n    :param resource_id: resource id that the data is going to be stored under.\n    :type resource_id: string\n    :param force: set to True to edit a read-only resource\n    :type force: bool (optional, default: False)\n    :param records: the data, eg: [{\"dob\": \"2005\", \"some_stuff\": [\"a\",\"b\"]}] (optional)\n    :type records: list of dictionaries\n    :param method: the method to use to put the data into the datastore.\n                   Possible options are: upsert, insert, update (optional, default: upsert)\n    :type method: string\n\n    **Results:**\n\n    :returns: The modified data object.\n    :rtype: dictionary\n\n    ", "success": true, "result": {"records": [{"SALEKEY": 375844, "PRICE": 180000, "parcelId": "38144800", "SALEDT": "2015/06/17 00:00:00.000000000", "ADDRESS": "561 LANARKSHIRE PL", "lat": "-84.40592613", "SALEVAL": "12", "lng": "37.98243576"}, {"SALEKEY": 376202, "PRICE": 49000, "parcelId": "10021700", "SALEDT": "2015/06/18 00:00:00.000000000", "ADDRESS": "1222 BRYAN AVE", "lat": "-84.47127306", "SALEVAL": "12", "lng": "38.0577635"}, {"SALEKEY": 376428, "PRICE": 450000, "parcelId": "30674300", "SALEDT": "2015/06/18 00:00:00.000000000", "ADDRESS": "116 HOLIDAY RD", "lat": "-84.47339648", "SALEVAL": "14", "lng": "38.02654199"}, {"SALEKEY": 375858, "PRICE": 444051, "parcelId": "38190730", "SALEDT": "2015/06/18 00:00:00.000000000", "ADDRESS": "2704 OLD ROSEBUD RD", "lat": "-84.42045028", "SALEVAL": "14", "lng": "38.02776097"}, {"SALEKEY": 375859, "PRICE": 444051, "parcelId": "38190740", "SALEDT": "2015/06/18 00:00:00.000000000", "ADDRESS": "2704 OLD ROSEBUD RD", "lat": "-84.42041852", "SALEVAL": "14", "lng": "38.02774988"}, {"SALEKEY": 375860, "PRICE": 444051, "parcelId": "38190750", "SALEDT": "2015/06/18 00:00:00.000000000", "ADDRESS": "2704 OLD ROSEBUD RD", "lat": "-84.42038675", "SALEVAL": "14", "lng": "38.0277388"}, {"SALEKEY": 376106, "PRICE": 89000, "parcelId": "12687050", "SALEDT": "2015/06/19 00:00:00.000000000", "ADDRESS": "1433 THAMES DR", "lat": "-84.47596316", "SALEVAL": "12", "lng": "37.9736493"}, {"SALEKEY": 376318, "PRICE": 55000, "parcelId": "10010830", "SALEDT": "2015/06/25 00:00:00.000000000", "ADDRESS": "3396 GATEWOOD CT", "lat": "-84.50595762", "SALEVAL": "14", "lng": "37.98321299"}, {"SALEKEY": 376185, "PRICE": 430000, "parcelId": "20287500", "SALEDT": "2015/06/26 00:00:00.000000000", "ADDRESS": "3038 WALNUT HILL RD", "lat": "-84.44600473", "SALEVAL": "12", "lng": "37.92669377"}, {"SALEKEY": 376462, "PRICE": 103500, "parcelId": "38072440", "SALEDT": "2015/06/26 00:00:00.000000000", "ADDRESS": "277 PREAKNESS DR", "lat": "-84.44634838", "SALEVAL": "12", "lng": "38.07278126"}, {"SALEKEY": 376385, "PRICE": 88000, "parcelId": "11124100", "SALEDT": "2015/06/29 00:00:00.000000000", "ADDRESS": "142 AVON AVE", "lat": "-84.4777379", "SALEVAL": "12", "lng": "38.05785115"}, {"SALEKEY": 376391, "PRICE": 122900, "parcelId": "20277026", "SALEDT": "2015/06/30 00:00:00.000000000", "ADDRESS": "1205 FENWICK RD", "lat": "-84.45557736", "SALEVAL": "12", "lng": "37.98053811"}, {"SALEKEY": 376327, "PRICE": 55000, "parcelId": "13604100", "SALEDT": "2015/07/01 00:00:00.000000000", "ADDRESS": "1106 BOXWOOD DR", "lat": "-84.50474446", "SALEVAL": "12", "lng": "38.08485977"}, {"SALEKEY": 376332, "PRICE": 89601, "parcelId": "23430100", "SALEDT": "2015/07/01 00:00:00.000000000", "ADDRESS": "650 MONTICELLO BLVD", "lat": "-84.54940581", "SALEVAL": "12", "lng": "37.99304556"}], "force": true, "resource_id": "0e2f75bd-7cfd-4e3b-8770-cb7119c623ed"}}
2015/07/16 16:45:22 - Write to log.0 - 
2015/07/16 16:45:22 - Write to log.0 - ====================
2015/07/16 16:45:22 - Upsert records to CKAN.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2015/07/16 16:45:22 - Mapping output specification.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2015/07/16 16:45:22 - CKAN Upsert.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2015/07/16 16:45:22 - Write to log.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
