2016/05/23 10:40:53 - Foreclosures - Loading transformation from XML file [file:///C:/Users/jhollinger/Documents/GitHub/lexington-pentaho-etl/civic-data-automation/foreclosures.ktr]
2016/05/23 10:40:53 - foreclosures - Dispatching started for transformation [foreclosures]
2016/05/23 10:40:53 - upsert-records-to-ckan - Dispatching started for transformation [upsert-records-to-ckan]
2016/05/23 10:40:53 - PVA Addresses.0 - Header row skipped in file 'file:///C:/Users/jhollinger/Documents/GitHub/lexington-pentaho-etl/civic-data-automation\sub-transformations\ParcelCenters.csv'
2016/05/23 10:40:53 - PVA Sales.0 - Finished reading query, closing connection.
2016/05/23 10:40:53 - Name Sale Val.0 - Optimization level set to 9.
2016/05/23 10:40:53 - PVA Sales.0 - Finished processing (I=26, O=0, R=0, W=26, U=0, E=0)
2016/05/23 10:40:53 - Name Sale Val.0 - Finished processing (I=0, O=0, R=26, W=26, U=0, E=0)
2016/05/23 10:40:53 - PVA Addresses.0 - Line number : 50000
2016/05/23 10:40:54 - PVA Addresses.0 - Line number : 100000
2016/05/23 10:40:54 - PVA Addresses.0 - Finished processing (I=109836, O=0, R=0, W=109836, U=0, E=0)
2016/05/23 10:40:54 - Stream lookup.0 - Finished processing (I=0, O=0, R=109862, W=26, U=0, E=0)
2016/05/23 10:40:54 - Filter rows.0 - Finished processing (I=0, O=0, R=26, W=26, U=0, E=0)
2016/05/23 10:40:54 - Format as JSON.0 - Finished processing (I=0, O=1, R=26, W=1, U=0, E=0)
2016/05/23 10:40:54 - Add Resource ID.0 - Optimization level set to 9.
2016/05/23 10:40:54 - Create POST body.0 - Optimization level set to 9.
2016/05/23 10:40:54 - Add Resource ID.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2016/05/23 10:40:54 - jsonRecords input.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2016/05/23 10:40:54 - Get CKAN API variables.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2016/05/23 10:40:54 - Create POST body.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2016/05/23 10:40:54 - Write to log.0 - 
2016/05/23 10:40:54 - Write to log.0 - ------------> Linenr 1------------------------------
2016/05/23 10:40:54 - Write to log.0 - upsertBody = {"records":[{"PRICE":77000,"SALEVAL":"12","parcelId":"10960450","ADDRESS":"3590 OLYMPIA RD","SALEDT":"2016\/04\/25 00:00:00.000000000","SALEKEY":385636,"lng":"37.98040437","lat":"-84.48633598"},{"PRICE":76667,"SALEVAL":"14","parcelId":"12372300","ADDRESS":"1211 N LIMESTONE","SALEDT":"2016\/04\/25 00:00:00.000000000","SALEKEY":385690,"lng":"38.06167672","lat":"-84.47588006"},{"PRICE":40000,"SALEVAL":"14","parcelId":"14103100","ADDRESS":"862 CHARLES AVE","SALEDT":"2016\/04\/25 00:00:00.000000000","SALEKEY":385652,"lng":"38.06221997","lat":"-84.50482126"},{"PRICE":178000,"SALEVAL":"14","parcelId":"20090490","ADDRESS":"1049 AUTUMN RIDGE DR","SALEDT":"2016\/04\/25 00:00:00.000000000","SALEKEY":385591,"lng":"38.00209886","lat":"-84.40717376"},{"PRICE":47324,"SALEVAL":"12","parcelId":"41573800","ADDRESS":"102 MARNE AVE","SALEDT":"2016\/04\/25 00:00:00.000000000","SALEKEY":386014,"lng":"38.03701431","lat":"-84.47466196"},{"PRICE":135001,"SALEVAL":"14","parcelId":"26728600","ADDRESS":"653 LONGVIEW DR","SALEDT":"2016\/04\/26 00:00:00.000000000","SALEKEY":386024,"lng":"38.02270994","lat":"-84.53869685"},{"PRICE":61000,"SALEVAL":"14","parcelId":"26680400","ADDRESS":"134 GOODRICH AVE","SALEDT":"2016\/04\/27 00:00:00.000000000","SALEKEY":385432,"lng":"38.01430813","lat":"-84.51954416"},{"PRICE":68041,"SALEVAL":"14","parcelId":"27168556","ADDRESS":"641 HIDDEN POINT DR","SALEDT":"2016\/04\/27 00:00:00.000000000","SALEKEY":386000,"lng":"37.99622933","lat":"-84.45274708"},{"PRICE":136000,"SALEVAL":"14","parcelId":"38170880","ADDRESS":"633 SKYVIEW LN","SALEDT":"2016\/04\/27 00:00:00.000000000","SALEKEY":386013,"lng":"38.09751422","lat":"-84.53480478"},{"PRICE":425100,"SALEVAL":"12","parcelId":"12327761","ADDRESS":"724 EDGEWATER DR","SALEDT":"2016\/04\/28 00:00:00.000000000","SALEKEY":385529,"lng":"38.00177313","lat":"-84.46403698"},{"PRICE":94000,"SALEVAL":"14","parcelId":"10003502","ADDRESS":"3645 SUNDART DR","SALEDT":"2016\/04\/29 00:00:00.000000000","SALEKEY":385830,"lng":"37.97340855","lat":"-84.47386678"},{"PRICE":37000,"SALEVAL":"14","parcelId":"10028900","ADDRESS":"374 CLEARWOOD CT","SALEDT":"2016\/04\/29 00:00:00.000000000","SALEKEY":385968,"lng":"38.0134006","lat":"-84.44395235"},{"PRICE":154000,"SALEVAL":"12","parcelId":"17195383","ADDRESS":"2992 TUSCALOOSA LN","SALEDT":"2016\/04\/29 00:00:00.000000000","SALEKEY":385721,"lng":"37.99148799","lat":"-84.45321493"},{"PRICE":150000,"SALEVAL":"12","parcelId":"23013900","ADDRESS":"277 HILL N DALE RD","SALEDT":"2016\/04\/29 00:00:00.000000000","SALEKEY":385668,"lng":"38.00941573","lat":"-84.53064098"},{"PRICE":267273,"SALEVAL":"14","parcelId":"38100490","ADDRESS":"324 HAYS BLVD","SALEDT":"2016\/04\/29 00:00:00.000000000","SALEKEY":385763,"lng":"37.98210892","lat":"-84.41433192"},{"PRICE":61000,"SALEVAL":"14","parcelId":"13576650","ADDRESS":"3565 OLYMPIA RD","SALEDT":"2016\/05\/02 00:00:00.000000000","SALEKEY":385796,"lng":"37.9815501","lat":"-84.48831743"},{"PRICE":82400,"SALEVAL":"14","parcelId":"20010890","ADDRESS":"3477 ROYAL WOOD RD","SALEDT":"2016\/05\/02 00:00:00.000000000","SALEKEY":385831,"lng":"37.97620623","lat":"-84.45542138"},{"PRICE":168000,"SALEVAL":"14","parcelId":"38101230","ADDRESS":"5021 MAGNOLIA GARDENS PL","SALEDT":"2016\/05\/02 00:00:00.000000000","SALEKEY":385833,"lng":"37.94553107","lat":"-84.48890529"},{"PRICE":133500,"SALEVAL":"14","parcelId":"38031110","ADDRESS":"109 APPLE FOREST CT","SALEDT":"2016\/05\/03 00:00:00.000000000","SALEKEY":385828,"lng":"38.08170564","lat":"-84.55122463"},{"PRICE":425000,"SALEVAL":"12","parcelId":"10928250","ADDRESS":"3142 MONTAVESTA RD","SALEDT":"2016\/05\/04 00:00:00.000000000","SALEKEY":385754,"lng":"38.00045727","lat":"-84.4940326"},{"PRICE":595000,"SALEVAL":"12","parcelId":"19301260","ADDRESS":"3636 WINDING WOOD LN","SALEDT":"2016\/05\/05 00:00:00.000000000","SALEKEY":385779,"lng":"37.95708597","lat":"-84.46957898"},{"PRICE":113000,"SALEVAL":"12","parcelId":"38087170","ADDRESS":"516 GLEN ARVIN AVE","SALEDT":"2016\/05\/05 00:00:00.000000000","SALEKEY":385938,"lng":"38.06552992","lat":"-84.50224116"},{"PRICE":129000,"SALEVAL":"12","parcelId":"38097140","ADDRESS":"333 LONG BRANCH LN","SALEDT":"2016\/05\/06 00:00:00.000000000","SALEKEY":385946,"lng":"38.08715344","lat":"-84.56253864"},{"PRICE":3000,"SALEVAL":"14","parcelId":"10456700","ADDRESS":"351 CHESTNUT ST","SALEDT":"2016\/05\/09 00:00:00.000000000","SALEKEY":386037,"lng":"38.04624272","lat":"-84.48639772"},{"PRICE":140000,"SALEVAL":"12","parcelId":"19981770","ADDRESS":"620 SMUGGLERS NOTCH DR","SALEDT":"2016\/05\/12 00:00:00.000000000","SALEKEY":386021,"lng":"38.01824638","lat":"-84.44049552"},{"PRICE":62500,"SALEVAL":"12","parcelId":"15848250","ADDRESS":"1839 MARIETTA DR","SALEDT":"2016\/05\/16 00:00:00.000000000","SALEKEY":385996,"lng":"38.05727519","lat":"-84.44122662"}],"resource_id":"0e2f75bd-7cfd-4e3b-8770-cb7119c623ed","force":"true"}
2016/05/23 10:40:54 - Write to log.0 - result = {"help": "Updates or inserts into a table in the DataStore\n\n    The datastore_upsert API action allows you to add or edit records to\n    an existing DataStore resource. In order for the *upsert* and *update*\n    methods to work, a unique key has to be defined via the datastore_create\n    action. The available methods are:\n\n    *upsert*\n        Update if record with same key already exists, otherwise insert.\n        Requires unique key.\n    *insert*\n        Insert only. This method is faster that upsert, but will fail if any\n        inserted record matches an existing one. Does *not* require a unique\n        key.\n    *update*\n        Update only. An exception will occur if the key that should be updated\n        does not exist. Requires unique key.\n\n\n    :param resource_id: resource id that the data is going to be stored under.\n    :type resource_id: string\n    :param force: set to True to edit a read-only resource\n    :type force: bool (optional, default: False)\n    :param records: the data, eg: [{\"dob\": \"2005\", \"some_stuff\": [\"a\",\"b\"]}] (optional)\n    :type records: list of dictionaries\n    :param method: the method to use to put the data into the datastore.\n                   Possible options are: upsert, insert, update (optional, default: upsert)\n    :type method: string\n\n    **Results:**\n\n    :returns: The modified data object.\n    :rtype: dictionary\n\n    ", "success": true, "result": {"records": [{"SALEKEY": 385636, "PRICE": 77000, "parcelId": "10960450", "SALEDT": "2016/04/25 00:00:00.000000000", "ADDRESS": "3590 OLYMPIA RD", "lat": "-84.48633598", "SALEVAL": "12", "lng": "37.98040437"}, {"SALEKEY": 385690, "PRICE": 76667, "parcelId": "12372300", "SALEDT": "2016/04/25 00:00:00.000000000", "ADDRESS": "1211 N LIMESTONE", "lat": "-84.47588006", "SALEVAL": "14", "lng": "38.06167672"}, {"SALEKEY": 385652, "PRICE": 40000, "parcelId": "14103100", "SALEDT": "2016/04/25 00:00:00.000000000", "ADDRESS": "862 CHARLES AVE", "lat": "-84.50482126", "SALEVAL": "14", "lng": "38.06221997"}, {"SALEKEY": 385591, "PRICE": 178000, "parcelId": "20090490", "SALEDT": "2016/04/25 00:00:00.000000000", "ADDRESS": "1049 AUTUMN RIDGE DR", "lat": "-84.40717376", "SALEVAL": "14", "lng": "38.00209886"}, {"SALEKEY": 386014, "PRICE": 47324, "parcelId": "41573800", "SALEDT": "2016/04/25 00:00:00.000000000", "ADDRESS": "102 MARNE AVE", "lat": "-84.47466196", "SALEVAL": "12", "lng": "38.03701431"}, {"SALEKEY": 386024, "PRICE": 135001, "parcelId": "26728600", "SALEDT": "2016/04/26 00:00:00.000000000", "ADDRESS": "653 LONGVIEW DR", "lat": "-84.53869685", "SALEVAL": "14", "lng": "38.02270994"}, {"SALEKEY": 385432, "PRICE": 61000, "parcelId": "26680400", "SALEDT": "2016/04/27 00:00:00.000000000", "ADDRESS": "134 GOODRICH AVE", "lat": "-84.51954416", "SALEVAL": "14", "lng": "38.01430813"}, {"SALEKEY": 386000, "PRICE": 68041, "parcelId": "27168556", "SALEDT": "2016/04/27 00:00:00.000000000", "ADDRESS": "641 HIDDEN POINT DR", "lat": "-84.45274708", "SALEVAL": "14", "lng": "37.99622933"}, {"SALEKEY": 386013, "PRICE": 136000, "parcelId": "38170880", "SALEDT": "2016/04/27 00:00:00.000000000", "ADDRESS": "633 SKYVIEW LN", "lat": "-84.53480478", "SALEVAL": "14", "lng": "38.09751422"}, {"SALEKEY": 385529, "PRICE": 425100, "parcelId": "12327761", "SALEDT": "2016/04/28 00:00:00.000000000", "ADDRESS": "724 EDGEWATER DR", "lat": "-84.46403698", "SALEVAL": "12", "lng": "38.00177313"}, {"SALEKEY": 385830, "PRICE": 94000, "parcelId": "10003502", "SALEDT": "2016/04/29 00:00:00.000000000", "ADDRESS": "3645 SUNDART DR", "lat": "-84.47386678", "SALEVAL": "14", "lng": "37.97340855"}, {"SALEKEY": 385968, "PRICE": 37000, "parcelId": "10028900", "SALEDT": "2016/04/29 00:00:00.000000000", "ADDRESS": "374 CLEARWOOD CT", "lat": "-84.44395235", "SALEVAL": "14", "lng": "38.0134006"}, {"SALEKEY": 385721, "PRICE": 154000, "parcelId": "17195383", "SALEDT": "2016/04/29 00:00:00.000000000", "ADDRESS": "2992 TUSCALOOSA LN", "lat": "-84.45321493", "SALEVAL": "12", "lng": "37.99148799"}, {"SALEKEY": 385668, "PRICE": 150000, "parcelId": "23013900", "SALEDT": "2016/04/29 00:00:00.000000000", "ADDRESS": "277 HILL N DALE RD", "lat": "-84.53064098", "SALEVAL": "12", "lng": "38.00941573"}, {"SALEKEY": 385763, "PRICE": 267273, "parcelId": "38100490", "SALEDT": "2016/04/29 00:00:00.000000000", "ADDRESS": "324 HAYS BLVD", "lat": "-84.41433192", "SALEVAL": "14", "lng": "37.98210892"}, {"SALEKEY": 385796, "PRICE": 61000, "parcelId": "13576650", "SALEDT": "2016/05/02 00:00:00.000000000", "ADDRESS": "3565 OLYMPIA RD", "lat": "-84.48831743", "SALEVAL": "14", "lng": "37.9815501"}, {"SALEKEY": 385831, "PRICE": 82400, "parcelId": "20010890", "SALEDT": "2016/05/02 00:00:00.000000000", "ADDRESS": "3477 ROYAL WOOD RD", "lat": "-84.45542138", "SALEVAL": "14", "lng": "37.97620623"}, {"SALEKEY": 385833, "PRICE": 168000, "parcelId": "38101230", "SALEDT": "2016/05/02 00:00:00.000000000", "ADDRESS": "5021 MAGNOLIA GARDENS PL", "lat": "-84.48890529", "SALEVAL": "14", "lng": "37.94553107"}, {"SALEKEY": 385828, "PRICE": 133500, "parcelId": "38031110", "SALEDT": "2016/05/03 00:00:00.000000000", "ADDRESS": "109 APPLE FOREST CT", "lat": "-84.55122463", "SALEVAL": "14", "lng": "38.08170564"}, {"SALEKEY": 385754, "PRICE": 425000, "parcelId": "10928250", "SALEDT": "2016/05/04 00:00:00.000000000", "ADDRESS": "3142 MONTAVESTA RD", "lat": "-84.4940326", "SALEVAL": "12", "lng": "38.00045727"}, {"SALEKEY": 385779, "PRICE": 595000, "parcelId": "19301260", "SALEDT": "2016/05/05 00:00:00.000000000", "ADDRESS": "3636 WINDING WOOD LN", "lat": "-84.46957898", "SALEVAL": "12", "lng": "37.95708597"}, {"SALEKEY": 385938, "PRICE": 113000, "parcelId": "38087170", "SALEDT": "2016/05/05 00:00:00.000000000", "ADDRESS": "516 GLEN ARVIN AVE", "lat": "-84.50224116", "SALEVAL": "12", "lng": "38.06552992"}, {"SALEKEY": 385946, "PRICE": 129000, "parcelId": "38097140", "SALEDT": "2016/05/06 00:00:00.000000000", "ADDRESS": "333 LONG BRANCH LN", "lat": "-84.56253864", "SALEVAL": "12", "lng": "38.08715344"}, {"SALEKEY": 386037, "PRICE": 3000, "parcelId": "10456700", "SALEDT": "2016/05/09 00:00:00.000000000", "ADDRESS": "351 CHESTNUT ST", "lat": "-84.48639772", "SALEVAL": "14", "lng": "38.04624272"}, {"SALEKEY": 386021, "PRICE": 140000, "parcelId": "19981770", "SALEDT": "2016/05/12 00:00:00.000000000", "ADDRESS": "620 SMUGGLERS NOTCH DR", "lat": "-84.44049552", "SALEVAL": "12", "lng": "38.01824638"}, {"SALEKEY": 385996, "PRICE": 62500, "parcelId": "15848250", "SALEDT": "2016/05/16 00:00:00.000000000", "ADDRESS": "1839 MARIETTA DR", "lat": "-84.44122662", "SALEVAL": "12", "lng": "38.05727519"}], "force": true, "resource_id": "0e2f75bd-7cfd-4e3b-8770-cb7119c623ed"}}
2016/05/23 10:40:54 - Write to log.0 - 
2016/05/23 10:40:54 - Write to log.0 - ====================
2016/05/23 10:40:54 - Upsert records to CKAN.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2016/05/23 10:40:54 - Mapping output specification.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2016/05/23 10:40:54 - CKAN Upsert.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
2016/05/23 10:40:54 - Write to log.0 - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
